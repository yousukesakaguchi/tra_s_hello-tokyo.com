"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var o;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(o="Object"===(o=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:o)||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var pageName,templeGallerySlider,replaceHeadTags=function(e){var t=document.head,e=e.html.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],o=document.createElement("head"),e=(o.innerHTML=e,["meta[name='keywords']","meta[name='description']","meta[property^='fb']","meta[property^='og']","meta[name^='twitter']","meta[name='robots']","meta[itemprop]","link[itemprop]","link[rel='prev']","link[rel='next']","link[rel='canonical']"].join(","));_toConsumableArray(t.querySelectorAll(e)).forEach(function(e){t.removeChild(e)}),_toConsumableArray(o.querySelectorAll(e)).forEach(function(e){t.appendChild(e)})},vw=window.innerWidth,locomotiveScroll=new LocomotiveScroll({el:document.querySelector("[data-scroll-container='true']"),smooth:!1,direction:"vertical",multiplier:1,offset:["20%","10%"],horizontalGesture:!1,scrollFromAnywhere:!1,scrollbarContainer:!1,getDirection:!1,repeat:!1});function faq(){console.log("faq()"),document.querySelectorAll(".faq-item").forEach(function(o){o.addEventListener("click",function(){var e=o.querySelector(".faq-item__a"),t=e.querySelector(".body");o.classList.contains("is-open")?e.style.height="":e.style.height=t.clientHeight+"px",o.classList.toggle("is-open")})})}function burgerInit(){for(var e=document.getElementsByClassName("burger-btn"),t=document.getElementById("header-nav"),o=document.getElementById("header"),n=document.getElementById("loading"),r=(e[0].addEventListener("click",function(){e[0].classList.toggle("is-open"),t.classList.toggle("is-open"),o.classList.toggle("is-open"),n.classList.toggle("is-open")},!1),document.getElementsByClassName("link-in-header")),i=0;i<r.length;i++)r[i].addEventListener("click",function(){this.classList.contains("js-accordion-trigger")||(console.log("burger Close"),t.classList.remove("is-open"),e[0].classList.remove("is-open"),o.classList.remove("is-open"),n.classList.remove("is-open"))},!1)}function slider(){console.log("slider()"),document.getElementById("templeCreative-gallery")&&(templeGallerySlider=new Splide("#templeCreative-gallery .splide",{type:"loop",perPage:10,autoplay:!0,speed:3e3,rewindByDrag:!0,arrows:!1,pagination:!1,drag:!0,snap:!0,interval:5e3,isNavigation:!0,waitForTransition:!1,focus:"center",breakpoints:{768:{perPage:1.5,focus:"center"}}})).mount()}function fixSize(){for(var e=document.getElementsByClassName("index-list"),t=0;t<e.length;t++)for(var o=e[t].clientWidth,n=(e[t].style.width=Math.ceil(o)+"px",e[t].getElementsByClassName("item")),r=0;r<n.length;r++){var i=n[r],a=i.clientWidth;i.style.width=Math.floor(a)+"px"}}function transition(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:300;console.log("transition"),document.getElementsByTagName("body")[0].classList.remove("is-transit"),document.getElementsByTagName("body")[0].classList.add("is-transitioning"),setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("is-transitioning"),document.getElementsByTagName("body")[0].classList.add("is-transit"),vw=window.innerWidth},e)}burgerInit(),window.addEventListener("resize",function(){setTimeout(function(){console.log("resize");var e=window.innerWidth;768<=vw&&e<768&&(console.log("PC表示→SP表示"),transition(3e3)),vw<768&&768<=e&&(console.log("SP表示→PC表示"),transition(3e3))},100)});for(var snsBtn=document.getElementsByClassName("sns-btn__item"),currentUrl=location.href,i=0;i<snsBtn.length;i++){var snsUrl=snsBtn[i].href;sns=snsUrl.replace("{URL}",currentUrl),snsBtn[i].href=sns}function wordDivider(){console.log("wordDivider()");for(var e=document.getElementsByClassName("js-word-divider"),t=0;t<e.length;t++){for(var o=e[t],n=o.innerHTML.split(""),r=n.length,i="",a=0;a<r;a++)"<"===n[a]?(i+=n.slice(a,n.indexOf(">",a)+1).join(""),a=n.indexOf(">",a)):" "===n[a]?i+="&nbsp;":i+="<span>"+n[a]+"</span>";o.innerHTML=i}}function setData(){for(var e=document.querySelectorAll("[data-delay]"),t=0;t<e.length;t++){var o=e[t].dataset.delay;e[t].style.transitionDelay=o+"s"}}function changeState(e,t){console.log("【changeState : "+e+"】"),form(),anchor(),setData(),slider(),overlay(),console.log("a"),"home"!==e?document.getElementsByTagName("body")[0].classList.add("page-subpage"):document.getElementsByTagName("body")[0].classList.remove("page-subpage"),console.log("b"),setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("is-transitioning"),document.getElementsByTagName("body")[0].classList.add("is-transit")},300),c,console.log("aaaa")}var accordionTriggers=document.querySelectorAll(".js-accordion-trigger"),count=0;function resetAccordion(){console.log("resetAccordion"),accordionTriggers.forEach(function(e){e.listenerFunction&&e.removeEventListener("click",e.listenerFunction),e.classList.remove("is-active"),e.parentElement.querySelector(".js-accordion-target").style.height=""}),accordionTriggers=document.querySelectorAll(".js-accordion-trigger")}function accordionClickHandler(e){console.log("click");var t=e.currentTarget,e=t.parentElement,o=e.querySelector(".js-accordion-target"),e=e.querySelector(".js-accordion-content").clientHeight;t.classList.contains("is-active")?o.style.height="":o.style.height=e+"px",t.classList.toggle("is-active"),accordionTriggers.forEach(function(e){e!==t&&(e.classList.remove("is-active"),e.parentElement.querySelector(".js-accordion-target").style.height="")}),setTimeout(function(){locomotiveScroll.update()},1e3)}function setAccordion(){console.log("setAccordion()"),(accordionTriggers=document.querySelectorAll(".js-accordion-trigger")).forEach(function(e){function t(e){return accordionClickHandler(e)}e.addEventListener("click",t),e.listenerFunction=t}),window.addEventListener("resize",function(){accordionTriggers.forEach(function(e){var t;e.classList.contains("is-active")&&(t=(e=e.nextElementSibling).querySelector(".inner").clientHeight,e.style.height=t+"px")})})}function anchor(){console.log("anchor()");for(var e=document.querySelectorAll(".js-anchor"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault();var e="#"+(e=this.getAttribute("href")).split("#")[1],t=(console.log(e),document.querySelector(e).offsetTop);t-=100,history.pushState(null,null,e),window.scrollTo({top:t,behavior:"smooth"})})}function changeHeader(e){var t=document.getElementById("kv");e<t.clientHeight+t.offsetTop?document.getElementById("header").classList.remove("type-black"):document.getElementById("header").classList.add("type-black")}barba.init(),document.addEventListener("DOMContentLoaded",function(){console.log("DOMContentLoaded"),overlay(),templeGallerySlider&&setTimeout(function(){templeGallerySlider.refresh()},4e3)}),window.addEventListener("scroll",function(){this.setTimeout(function(){"home"===pageName&&changeHeader(window.pageYOffset)},600)}),barba.hooks.beforeEnter(function(e){e=e.next;console.log("【beforeEnter】"),replaceHeadTags(e),slider()});var activeWorktype,eventDelete=function(e){e.currentTarget.href===window.location.href&&(console.log("eventDelete"),e.preventDefault(),e.stopPropagation(),window.scrollTo({top:0,behavior:"smooth"}))},links=_toConsumableArray(document.querySelectorAll("a[href]"));function overlay(){console.log("overlay()");var r=document.getElementById("overlay"),e=document.getElementById("overlay-content");if(r){r.addEventListener("click",function(){r.classList.remove("is-active"),document.querySelectorAll(".overlay-slider__item").forEach(function(e){e.classList.remove("is-active"),e.classList.remove("is-next"),e.classList.remove("is-prev")})}),e.addEventListener("click",function(e){e.stopPropagation()});for(var t=document.querySelectorAll(".js-overlay-close"),o=0;o<t.length;o++)t[o].addEventListener("click",function(){r.classList.remove("is-active"),document.querySelectorAll(".overlay-slider__item").forEach(function(e){e.classList.remove("is-active"),e.classList.remove("is-next"),e.classList.remove("is-prev")})});for(var n=document.querySelectorAll(".js-overlay-activate"),o=0;o<n.length;o++)n[o].addEventListener("click",function(){console.log("activate"),r.classList.add("is-active");var e,t,o=this.getAttribute("data-worktype"),n=(activeWorktype=o,console.log({activeWorktype:activeWorktype}),document.querySelectorAll(".overlay-slider__item"));console.log(n),n.forEach(function(e){var t=e.getAttribute("data-worktype");o===t&&e.classList.add("is-active")}),n.forEach(function(e){e.classList.remove("is-next"),e.classList.remove("is-prev")}),t=0==activeWorktype?(e=n.length-1,Number(activeWorktype)+1):activeWorktype==n.length-1?(e=Number(activeWorktype)-1,0):(e=Number(activeWorktype)-1,Number(activeWorktype)+1),console.log({prev:e}),console.log({next:t}),n[e].classList.add("is-prev"),n[t].classList.add("is-next")});document.querySelectorAll(".overlay-slider__item");for(var i=document.querySelectorAll(".js-overlay-prev"),a=document.querySelectorAll(".js-overlay-next"),o=0;o<i.length;o++)i[o].addEventListener("click",function(){console.log("prev");var e=document.querySelectorAll(".overlay-slider__item");e.forEach(function(e){e.classList.remove("is-active"),e.classList.remove("is-next"),e.classList.remove("is-prev")}),e[activeWorktype=--activeWorktype<0?e.length-1:activeWorktype].classList.add("is-active"),(0!==activeWorktype?e[activeWorktype-1]:e[e.length-1]).classList.add("is-prev"),(activeWorktype!==e.length-1?e[activeWorktype+1]:e[0]).classList.add("is-next")});for(o=0;o<a.length;o++)a[o].addEventListener("click",function(){console.log("next");var e=document.querySelectorAll(".overlay-slider__item");e.forEach(function(e){e.classList.remove("is-active"),e.classList.remove("is-next"),e.classList.remove("is-prev")}),e[activeWorktype=++activeWorktype>e.length-1?0:activeWorktype].classList.add("is-active"),(activeWorktype!==e.length-1?e[activeWorktype+1]:e[0]).classList.add("is-next"),(0!==activeWorktype?e[activeWorktype-1]:e[e.length-1]).classList.add("is-prev")});console.log("overlay end")}else console.log("overlay is not found")}links.forEach(function(e){e.addEventListener("click",function(e){eventDelete(e)},!1)}),barba.hooks.enter(function(e){e.next;console.log("【enter】")}),barba.hooks.afterEnter(function(e){e=e.next;console.log("【afterEnter】"),changeState(e.namespace,e),pageName=e.namespace,-1!==window.location.href.indexOf("#")?setTimeout(function(){var e=window.location.hash,e=document.querySelector(e).offsetTop;e-=100,console.log("scroll"),console.log("hashPosition : "+e),window.scrollTo({top:e,behavior:"smooth"})},300):setTimeout(function(){window.scrollTo({top:0,behavior:"instant"})},100)}),barba.hooks.after(function(){console.log("【after】"),locomotiveScroll.init();var e=window.location.hash,e=document.querySelector(e).offsetTop;e-=100,console.log("scroll"),console.log("hashPosition : "+e)}),barba.hooks.beforeLeave(function(e){e.next;locomotiveScroll.destroy(),document.getElementsByTagName("body")[0].classList.remove("is-transit"),document.getElementsByTagName("body")[0].classList.add("is-transitioning")});